{"ast":null,"code":"var _jsxFileName = \"D:\\\\Practica02\\\\react-crud-frontend\\\\src\\\\components\\\\StudentChart.jsx\",\n  _s = $RefreshSig$();\n// src/components/StudentChart.jsx\nimport React, { useEffect, useState } from 'react';\nimport api from '../services/api';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, Label } from 'recharts';\nimport { motion } from 'framer-motion';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StudentChart() {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const [resEst, resMat] = await Promise.all([api.get('/estudiantes/'), api.get('/matriculas/')]);\n        const counts = resEst.data.map(s => ({\n          nombre: s.nombre,\n          matriculas: resMat.data.filter(m => m.estudiante === s.id).length\n        }));\n        setData(counts);\n      } catch (err) {\n        console.error(err);\n        toast.error('Error cargando datos para la gráfica');\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"p-4 bg-white rounded-lg shadow text-center text-gray-500\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      children: \"Cargando datos de la gr\\xE1fica\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n  if (data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"p-4 bg-white rounded-lg shadow text-center text-gray-500\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      children: \"No hay datos disponibles para mostrar.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"p-6 bg-white rounded-lg shadow\",\n    initial: {\n      scale: 0.9,\n      opacity: 0\n    },\n    animate: {\n      scale: 1,\n      opacity: 1\n    },\n    whileHover: {\n      scale: 1.02\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-6 text-center\",\n      children: \"Matr\\xEDculas por Estudiante\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 350,\n      children: /*#__PURE__*/_jsxDEV(BarChart, {\n        data: data,\n        margin: {\n          top: 20,\n          right: 30,\n          left: 20,\n          bottom: 70\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"nombre\",\n          interval: 0,\n          angle: -45,\n          textAnchor: \"end\",\n          height: 60,\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            value: \"Estudiantes\",\n            position: \"insideBottom\",\n            offset: -50\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            value: \"N\\xFAmero de Matr\\xEDculas\",\n            angle: -90,\n            position: \"insideLeft\",\n            offset: -10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          formatter: value => [`${value}`, 'Matrículas'],\n          cursor: {\n            fill: 'rgba(0,0,0,0.1)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"matriculas\",\n          name: \"Matr\\xEDculas\",\n          barSize: 40,\n          radius: [4, 4, 0, 0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentChart, \"YP7e7Smzxlgf2d3MqLcgRZjo83U=\");\n_c = StudentChart;\nvar _c;\n$RefreshReg$(_c, \"StudentChart\");","map":{"version":3,"names":["React","useEffect","useState","api","BarChart","Bar","XAxis","YAxis","Tooltip","ResponsiveContainer","CartesianGrid","Label","motion","toast","jsxDEV","_jsxDEV","StudentChart","_s","data","setData","loading","setLoading","load","resEst","resMat","Promise","all","get","counts","map","s","nombre","matriculas","filter","m","estudiante","id","length","err","console","error","div","className","initial","opacity","animate","children","fileName","_jsxFileName","lineNumber","columnNumber","scale","whileHover","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","interval","angle","textAnchor","value","position","offset","formatter","cursor","fill","name","barSize","radius","_c","$RefreshReg$"],"sources":["D:/Practica02/react-crud-frontend/src/components/StudentChart.jsx"],"sourcesContent":["// src/components/StudentChart.jsx\r\nimport React, { useEffect, useState } from 'react'\r\nimport api from '../services/api'\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  CartesianGrid,\r\n  Label\r\n} from 'recharts'\r\nimport { motion } from 'framer-motion'\r\nimport { toast } from 'react-toastify'\r\n\r\nexport default function StudentChart() {\r\n  const [data, setData] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        const [resEst, resMat] = await Promise.all([\r\n          api.get('/estudiantes/'),\r\n          api.get('/matriculas/')\r\n        ])\r\n        const counts = resEst.data.map(s => ({\r\n          nombre: s.nombre,\r\n          matriculas: resMat.data.filter(m => m.estudiante === s.id).length\r\n        }))\r\n        setData(counts)\r\n      } catch (err) {\r\n        console.error(err)\r\n        toast.error('Error cargando datos para la gráfica')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    load()\r\n  }, [])\r\n\r\n  if (loading) {\r\n    return (\r\n      <motion.div \r\n        className=\"p-4 bg-white rounded-lg shadow text-center text-gray-500\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n      >\r\n        Cargando datos de la gráfica…\r\n      </motion.div>\r\n    )\r\n  }\r\n\r\n  if (data.length === 0) {\r\n    return (\r\n      <motion.div \r\n        className=\"p-4 bg-white rounded-lg shadow text-center text-gray-500\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n      >\r\n        No hay datos disponibles para mostrar.\r\n      </motion.div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 bg-white rounded-lg shadow\"\r\n      initial={{ scale: 0.9, opacity: 0 }}\r\n      animate={{ scale: 1, opacity: 1 }}\r\n      whileHover={{ scale: 1.02 }}\r\n    >\r\n      <h2 className=\"text-2xl font-semibold mb-6 text-center\">\r\n        Matrículas por Estudiante\r\n      </h2>\r\n      <ResponsiveContainer width=\"100%\" height={350}>\r\n        <BarChart\r\n          data={data}\r\n          margin={{ top: 20, right: 30, left: 20, bottom: 70 }}\r\n        >\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis\r\n            dataKey=\"nombre\"\r\n            interval={0}\r\n            angle={-45}\r\n            textAnchor=\"end\"\r\n            height={60}\r\n          >\r\n            <Label\r\n              value=\"Estudiantes\"\r\n              position=\"insideBottom\"\r\n              offset={-50}\r\n            />\r\n          </XAxis>\r\n          <YAxis>\r\n            <Label\r\n              value=\"Número de Matrículas\"\r\n              angle={-90}\r\n              position=\"insideLeft\"\r\n              offset={-10}\r\n            />\r\n          </YAxis>\r\n          <Tooltip\r\n            formatter={(value) => [`${value}`, 'Matrículas']}\r\n            cursor={{ fill: 'rgba(0,0,0,0.1)' }}\r\n          />\r\n          <Bar\r\n            dataKey=\"matriculas\"\r\n            name=\"Matrículas\"\r\n            barSize={40}\r\n            radius={[4, 4, 0, 0]}\r\n          />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </motion.div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}