{"ast":null,"code":"var _jsxFileName = \"D:\\\\Practica02\\\\react-crud-frontend\\\\src\\\\components\\\\StudentList.jsx\",\n  _s = $RefreshSig$();\n// src/components/StudentList.jsx\nimport React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport api from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { Edit2, Trash2 } from 'lucide-react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StudentList() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [globalFilter, setGlobalFilter] = useState('');\n  const navigate = useNavigate();\n\n  // Carga inicial\n  useEffect(() => {\n    api.get('/estudiantes/').then(res => setStudents(Array.isArray(res.data) ? res.data : [])).catch(() => {\n      toast.error('Error al cargar estudiantes');\n      setStudents([]);\n    });\n  }, []);\n\n  // Eliminar estudiante\n  const deleteOne = useCallback(async id => {\n    if (!window.confirm('¿Eliminar este estudiante?')) return;\n    await api.delete(`/estudiantes/${id}/`);\n    toast.success('Estudiante eliminado');\n    const res = await api.get('/estudiantes/');\n    setStudents(Array.isArray(res.data) ? res.data : []);\n  }, []);\n\n  // Filtrado por nombre, carrera o email\n  const filtered = useMemo(() => {\n    const term = globalFilter.toLowerCase();\n    return students.filter(s => s.nombre.toLowerCase().includes(term) || s.carrera.toLowerCase().includes(term) || s.email.toLowerCase().includes(term));\n  }, [students, globalFilter]);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"p-4\",\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold\",\n        children: \"Estudiantes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/students/new'),\n        className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",\n        children: \"Nuevo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Buscar...\",\n      value: globalFilter,\n      onChange: e => setGlobalFilter(e.target.value),\n      className: \"mb-6 p-2 border rounded w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\",\n      children: [filtered.map(student => /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"bg-white rounded-lg shadow p-4 flex flex-col\",\n        whileHover: {\n          scale: 1.02\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: student.foto,\n          alt: student.nombre,\n          className: \"w-24 h-24 rounded-full object-cover mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-center\",\n          children: student.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 text-center\",\n          children: student.carrera\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 text-center mb-4\",\n          children: student.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto flex justify-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate(`/students/edit/${student.id}`),\n            className: \"text-yellow-500 hover:text-yellow-600\",\n            children: /*#__PURE__*/_jsxDEV(Edit2, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteOne(student.id),\n            className: \"text-red-500 hover:text-red-600\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, student.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)), filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"col-span-full text-center text-gray-500\",\n        children: \"No se encontraron estudiantes.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentList, \"lF7FfvB1u+sLBwuvAitI79VXTgY=\", false, function () {\n  return [useNavigate];\n});\n_c = StudentList;\nvar _c;\n$RefreshReg$(_c, \"StudentList\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useCallback","api","useNavigate","motion","Edit2","Trash2","toast","jsxDEV","_jsxDEV","StudentList","_s","students","setStudents","globalFilter","setGlobalFilter","navigate","get","then","res","Array","isArray","data","catch","error","deleteOne","id","window","confirm","delete","success","filtered","term","toLowerCase","filter","s","nombre","includes","carrera","email","div","className","initial","opacity","animate","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","e","target","map","student","whileHover","scale","src","foto","alt","size","length","_c","$RefreshReg$"],"sources":["D:/Practica02/react-crud-frontend/src/components/StudentList.jsx"],"sourcesContent":["// src/components/StudentList.jsx\r\nimport React, { useEffect, useState, useMemo, useCallback } from 'react'\r\nimport api from '../services/api'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\nimport { Edit2, Trash2 } from 'lucide-react'\r\nimport { toast } from 'react-toastify'\r\n\r\nexport default function StudentList() {\r\n  const [students, setStudents] = useState([])\r\n  const [globalFilter, setGlobalFilter] = useState('')\r\n  const navigate = useNavigate()\r\n\r\n  // Carga inicial\r\n  useEffect(() => {\r\n    api.get('/estudiantes/')\r\n      .then(res => setStudents(Array.isArray(res.data) ? res.data : []))\r\n      .catch(() => {\r\n        toast.error('Error al cargar estudiantes')\r\n        setStudents([])\r\n      })\r\n  }, [])\r\n\r\n  // Eliminar estudiante\r\n  const deleteOne = useCallback(async (id) => {\r\n    if (!window.confirm('¿Eliminar este estudiante?')) return\r\n    await api.delete(`/estudiantes/${id}/`)\r\n    toast.success('Estudiante eliminado')\r\n    const res = await api.get('/estudiantes/')\r\n    setStudents(Array.isArray(res.data) ? res.data : [])\r\n  }, [])\r\n\r\n  // Filtrado por nombre, carrera o email\r\n  const filtered = useMemo(() => {\r\n    const term = globalFilter.toLowerCase()\r\n    return students.filter(s =>\r\n      s.nombre.toLowerCase().includes(term) ||\r\n      s.carrera.toLowerCase().includes(term) ||\r\n      s.email.toLowerCase().includes(term)\r\n    )\r\n  }, [students, globalFilter])\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-4\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-2xl font-semibold\">Estudiantes</h2>\r\n        <button\r\n          onClick={() => navigate('/students/new')}\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n        >\r\n          Nuevo\r\n        </button>\r\n      </div>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Buscar...\"\r\n        value={globalFilter}\r\n        onChange={e => setGlobalFilter(e.target.value)}\r\n        className=\"mb-6 p-2 border rounded w-full\"\r\n      />\r\n\r\n      <div className=\"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\r\n        {filtered.map(student => (\r\n          <motion.div\r\n            key={student.id}\r\n            className=\"bg-white rounded-lg shadow p-4 flex flex-col\"\r\n            whileHover={{ scale: 1.02 }}\r\n          >\r\n            <img\r\n              src={student.foto}\r\n              alt={student.nombre}\r\n              className=\"w-24 h-24 rounded-full object-cover mx-auto mb-4\"\r\n            />\r\n            <h3 className=\"text-lg font-semibold text-center\">{student.nombre}</h3>\r\n            <p className=\"text-sm text-gray-600 text-center\">{student.carrera}</p>\r\n            <p className=\"text-sm text-gray-600 text-center mb-4\">{student.email}</p>\r\n            <div className=\"mt-auto flex justify-center space-x-4\">\r\n              <button\r\n                onClick={() => navigate(`/students/edit/${student.id}`)}\r\n                className=\"text-yellow-500 hover:text-yellow-600\"\r\n              >\r\n                <Edit2 size={20} />\r\n              </button>\r\n              <button\r\n                onClick={() => deleteOne(student.id)}\r\n                className=\"text-red-500 hover:text-red-600\"\r\n              >\r\n                <Trash2 size={20} />\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n        {filtered.length === 0 && (\r\n          <p className=\"col-span-full text-center text-gray-500\">\r\n            No se encontraron estudiantes.\r\n          </p>\r\n        )}\r\n      </div>\r\n    </motion.div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}